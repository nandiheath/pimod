FROM https://downloads.raspberrypi.org/raspbian_lite/images/raspbian_lite-2020-02-07/2020-02-05-raspbian-buster-lite.zip
TO raspbian-buster-upgraded.img

# Increase the image by 500 MB -> seems like we need to make sure the boot volume size
PUMP 500M

# Enable serial console using built-in configuration tool
RUN raspi-config nonint do_serial 0

# Enable SSH
RUN raspi-config nonint do_ssh 1

# https://github.com/RPi-Distro/raspi-config/blob/master/raspi-config
# wlan is not set during build phase
# RUN raspi-config nonint list_wlan_interfaces
# RUN raspi-config nonint do_wifi_country HK
# RUN raspi-config nonint do_wifi_ssid_passphrase POISONOUS_HOME wing1212

INSTALL "./test/wpa_supplicant.conf" "/boot/"

# 

